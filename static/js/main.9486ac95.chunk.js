(this.webpackJsonpslothwitter=this.webpackJsonpslothwitter||[]).push([[0],{50:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(2),s=a.n(n),r=a(32),i=a.n(r),o=a(7),l=a(17),u=a(6),j=a(9),d=a.n(j),b=a(12),p=function(e){var t=e.userObj,a=e.refreshUser,s=Object(n.useState)(t.displayName),r=Object(o.a)(s,2),i=r[0],u=r[1],j=function(){var e=Object(b.a)(d.a.mark((function e(c){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),t.displayName===i){e.next=5;break}return e.next=4,t.updateProfile({displayName:i});case 4:a();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("form",{onSubmit:j,className:"profileForm",children:[Object(c.jsx)("input",{type:"text",onChange:function(e){var t=e.target.value;u(t)},placeholder:"Display Name",defaultValue:i,className:"formInput"}),Object(c.jsx)("input",{type:"submit",value:"Update Profile",className:"formBtn",style:{marginTop:10}}),Object(c.jsx)(l.b,{to:"/profile",children:Object(c.jsx)("span",{className:"formBtn cancelBtn",style:{display:"block"},children:"Cancel"})})]})})},h=a(22);a(44),a(46),a(52);h.a.initializeApp({apiKey:"AIzaSyDHQVlk5ct60RWdvcy48Y_oULgf2TjxifI",authDomain:"slothwitter.firebaseapp.com",databaseURL:"https://slothwitter.firebaseio.com",projectId:"slothwitter",storageBucket:"slothwitter.appspot.com",messagingSenderId:"993214720050",appId:"1:993214720050:web:9585fa358af3e8d8c3742b"});var m=h.a,O=h.a.auth(),x=h.a.firestore(),f=h.a.storage(),g=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(""),i=Object(o.a)(r,2),l=i[0],u=i[1],j=Object(n.useState)(!0),p=Object(o.a)(j,2),h=p[0],m=p[1],x=Object(n.useState)(""),f=Object(o.a)(x,2),g=f[0],v=f[1],A=function(e){var t=e.target,a=t.name,c=t.value;"email"===a?s(c):"password"===a&&u(c)},N=function(){var e=Object(b.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!h){e.next=8;break}return e.next=5,O.createUserWithEmailAndPassword(a,l);case 5:c=e.sent,e.next=11;break;case 8:return e.next=10,O.signInWithEmailAndPassword(a,l);case 10:c=e.sent;case 11:console.log(c),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),v(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("form",{onSubmit:N,className:"container",children:[Object(c.jsx)("input",{type:"email",name:"email",placeholder:"Email",required:!0,value:a,onChange:A,className:"authInput"}),Object(c.jsx)("input",{type:"password",name:"password",placeholder:"Password",required:!0,value:l,onChange:A,className:"authInput"}),Object(c.jsx)("input",{type:"submit",className:"authInput authSubmit",value:h?"Create Account":"Sign In"}),g&&Object(c.jsx)("span",{className:"authError",children:g})]}),Object(c.jsx)("span",{onClick:function(){m((function(e){return!e}))},className:"authSwitch",children:h?"Sign In":"Create Account"})]})},v=a(16),A=a(24),N=function(){var e=function(){var e=Object(b.a)(d.a.mark((function e(t){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"google"===(a=t.target.name)?c=new m.auth.GoogleAuthProvider:"github"===a&&(c=new m.auth.GithubAuthProvider),e.next=4,O.signInWithPopup(c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"authContainer",children:[Object(c.jsx)(v.a,{icon:A.c,color:"#04AAFF",size:"3x",style:{marginBottom:30}}),Object(c.jsx)(g,{}),Object(c.jsxs)("div",{className:"authBtns",children:[Object(c.jsxs)("button",{name:"google",className:"authBtn",onClick:e,children:["Continue with Google ",Object(c.jsx)(v.a,{icon:A.b})]}),Object(c.jsxs)("button",{name:"github",className:"authBtn",onClick:e,children:["Continue with Github ",Object(c.jsx)(v.a,{icon:A.a})]})]})]})},w=a(23),y=a(21),U=function(e){var t=e.sweetObj,a=e.isOwner,s=Object(n.useState)(!1),r=Object(o.a)(s,2),i=r[0],l=r[1],u=Object(n.useState)(t.text),j=Object(o.a)(u,2),p=j[0],h=j[1],m=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this sweet?")){e.next=7;break}return e.next=4,x.doc("sweets/".concat(t.id)).delete();case 4:if(""===t.fileUrl){e.next=7;break}return e.next=7,f.refFromURL(t.fileUrl).delete();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){return l((function(e){return!e}))},g=function(){return Object(c.jsxs)("div",{className:"sweet__topcontainer",children:[Object(c.jsx)("span",{className:"nickname",children:t.creatorName}),Object(c.jsxs)("div",{className:"sweet__actions",children:[Object(c.jsx)("span",{onClick:m,children:Object(c.jsx)(v.a,{icon:y.d})}),Object(c.jsx)("span",{onClick:O,children:Object(c.jsx)(v.a,{icon:y.a})})]})]})};return Object(c.jsx)("div",{className:"sweet",children:i?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),x.doc("sweets/".concat(t.id)).update({text:p}),l(!1)},className:"container sweetEdit",children:[Object(c.jsx)("input",{type:"text",placeholder:"Edit your sweet",value:p,required:!0,onChange:function(e){var t=e.target.value;h(t)},className:"formInput"}),Object(c.jsx)("input",{type:"submit",value:"update sweet",className:"formBtn"})]}),Object(c.jsx)("span",{onClick:O,className:"formBtn cancelBtn",children:"cancel"})]}):Object(c.jsx)(c.Fragment,{children:t.fileUrl?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("img",{src:t.fileUrl}),Object(c.jsxs)("div",{className:"sweetContent",style:{borderRadius:"0 0 10px 10px"},children:[a&&Object(c.jsx)(g,{}),Object(c.jsx)("p",{children:t.text})]})]}):Object(c.jsxs)("div",{className:"sweetContent",children:[a&&Object(c.jsx)(g,{}),Object(c.jsx)("p",{children:t.text})]})})})},k=a(54),I=function(e){var t=e.userObj,a=Object(n.useState)(""),s=Object(o.a)(a,2),r=s[0],i=s[1],l=Object(n.useState)(""),u=Object(o.a)(l,2),j=u[0],p=u[1],h=function(){var e=Object(b.a)(d.a.mark((function e(a){var c,n,s,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),c="",""===r){e.next=18;break}if(""===j){e.next=11;break}return n=f.ref().child("".concat(t.uid,"/").concat(Object(k.a)())),e.next=7,n.putString(j,"data_url");case 7:return s=e.sent,e.next=10,s.ref.getDownloadURL();case 10:c=e.sent;case 11:return o={text:r,createdAt:Date.now(),creatorId:t.uid,creatorName:t.displayName,fileUrl:c},e.next=14,x.collection("sweets").add(o);case 14:i(""),p(""),e.next=19;break;case 18:alert("\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.");case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("form",{onSubmit:h,className:"factoryForm",children:[Object(c.jsxs)("div",{className:"factoryInput__container",children:[Object(c.jsx)("textarea",{value:r,onChange:function(e){var t=e.target.value;i(t)},placeholder:"What's on your mind?",maxLength:120,spellCheck:"false",className:"factoryInput__input"}),Object(c.jsx)("input",{type:"submit",value:"\u2192",className:"factoryInput__arrow"})]}),Object(c.jsxs)("label",{htmlFor:"attach-file",className:"factoryInput__label",children:[Object(c.jsx)("span",{children:"Add photos"}),Object(c.jsx)(v.a,{icon:y.b})]}),Object(c.jsx)("input",{type:"file",id:"attach-file",accept:"image/*",onChange:function(e){var t=e.target.files[0],a=new FileReader;a.onloadend=function(e){var t=e.currentTarget.result;p(t)},a.readAsDataURL(t)},style:{opacity:0}}),j&&Object(c.jsxs)("div",{className:"factoryForm__attachment",children:[Object(c.jsx)("img",{src:j,alt:"thumbnail",style:{backgroundImage:j}}),Object(c.jsxs)("div",{className:"factoryForm__clear",onClick:function(){p(""),document.querySelector("input[type='file']").value=""},children:[Object(c.jsx)("span",{children:"Remove"}),Object(c.jsx)(v.a,{icon:y.c})]})]})]})},C=function(e){var t=e.userObj,a=Object(n.useState)([]),s=Object(o.a)(a,2),r=s[0],i=s[1];return Object(n.useEffect)((function(){x.collection("sweets").orderBy("createdAt","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(w.a)({id:e.id},e.data())}));i(t)}))}),[]),Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)(I,{userObj:t}),Object(c.jsx)("div",{children:r.map((function(e){return Object(c.jsx)(U,{sweetObj:e,isOwner:e.creatorId===t.uid},e.id)}))})]})},S=function(e){var t=e.userObj,a=Object(n.useState)([]),s=Object(o.a)(a,2),r=s[0],i=s[1],j=Object(u.g)(),p=function(){var e=Object(b.a)(d.a.mark((function e(){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.collection("sweets").where("creatorId","==",t.uid).orderBy("createdAt","desc").get();case 2:a=e.sent,c=a.docs.map((function(e){return Object(w.a)({id:e.id},e.data())})),i(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){p()}),[]),Object(c.jsxs)("div",{className:"container",children:[Object(c.jsxs)("div",{className:"profile__header",children:[Object(c.jsx)("img",{src:t.photoUrl,alt:"profile"}),Object(c.jsx)("span",{className:"nickname",children:t.displayName}),Object(c.jsxs)("div",{className:"profileBtn__container",children:[Object(c.jsx)("span",{onClick:function(){window.confirm("Are you sure you want to log out?")&&(O.signOut(),j.push("/"))},className:"formBtn",children:"Log Out"}),Object(c.jsx)(l.b,{to:"/editprofile",children:Object(c.jsx)("span",{className:"formBtn",children:"Edit Profile"})})]})]}),Object(c.jsx)("div",{children:r.map((function(e){return Object(c.jsx)(U,{sweetObj:e,isOwner:e.creatorId===t.uid},e.id)}))})]})},V=function(e){var t=e.userObj,a={marginLeft:10,display:"flex",flexDirection:"column",alignItems:"center",fonStize:12};return Object(c.jsx)("nav",{children:Object(c.jsxs)("ul",{className:"nav",children:[Object(c.jsx)("li",{className:"navHome",children:Object(c.jsxs)(l.b,{to:"/",style:a,children:[Object(c.jsx)("img",{src:"data:image/png;base64,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",alt:"home icon"}),Object(c.jsx)("span",{className:"navTitle",children:"Home"})]})}),Object(c.jsx)("li",{className:"navProfile",children:Object(c.jsxs)(l.b,{to:"/profile",style:a,children:[Object(c.jsx)("img",{src:t.photoUrl,alt:"profileImage"}),Object(c.jsx)("span",{className:"navTitle",children:t.displayName?"".concat(t.displayName):"Profile"})]})})]})})},W=function(e){var t=e.isLoggedIn,a=e.userObj,n=e.refreshUser;return Object(c.jsxs)(l.a,{children:[t&&Object(c.jsx)(V,{userObj:a}),Object(c.jsx)(u.d,{children:t?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(u.b,{exact:!0,path:"/",children:Object(c.jsx)(C,{userObj:a})}),Object(c.jsx)(u.b,{exact:!0,path:"/profile",children:Object(c.jsx)(S,{userObj:a,refreshUser:n})}),Object(c.jsx)(u.b,{exact:!0,path:"/editprofile",children:Object(c.jsx)(p,{userObj:a,refreshUser:n})}),Object(c.jsx)(u.a,{from:"*",to:"/"})]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(u.b,{exact:!0,path:"/",children:Object(c.jsx)(N,{})}),Object(c.jsx)(u.a,{from:"*",to:"/"})]})})]})},q=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(null),i=Object(o.a)(r,2),l=i[0],u=i[1];Object(n.useEffect)((function(){O.onAuthStateChanged((function(e){u(e?{displayName:e.displayName,uid:e.uid,photoUrl:e.photoURL,updateProfile:function(t){return e.updateProfile(t)}}:null),s(!0)})),j()}),[]);var j=function(){var e=(new Date).getMonth()+1,t=document.querySelector("body");t.style.backgroundImage=e>=3&&e<=5?"url('https://images.pexels.com/photos/4619953/pexels-photo-4619953.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940')":e>=6&&e<=8?"url('https://images.pexels.com/photos/3601425/pexels-photo-3601425.jpeg?cs=srgb&dl=pexels-asad-photo-maldives-3601425.jpg&fm=jpg')":e>=9&&e<=11?"url('https://images.pexels.com/photos/1585894/pexels-photo-1585894.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940')":"url('https://images.pexels.com/photos/1417647/pexels-photo-1417647.jpeg?auto=compress&cs=tinysrgb&h=750&w=1260')"};return Object(c.jsxs)(c.Fragment,{children:[a?Object(c.jsx)(W,{isLoggedIn:Boolean(l),userObj:l,refreshUser:function(){var e=O.currentUser;u({displayName:e.displayName,uid:e.uid,photoUrl:e.photoURL,updateProfile:function(t){return e.updateProfile(t)}})}}):Object(c.jsx)("div",{className:"loader",children:"Loading..."}),Object(c.jsxs)("footer",{children:["\xa9 ",(new Date).getFullYear()," Slothwitter "]})]})};a(50);i.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(q,{})}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.9486ac95.chunk.js.map